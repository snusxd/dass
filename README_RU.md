# DASS

**D**eltarune **A**uto-**S**orting **S**prites — утилита для автоматизации сортировки изменённых спрайтов Deltarune.

[English README version](https://github.com/snusxd/dass/blob/main/README.md)

[Принцип работы](#%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B)\
[UNIQUE.TXT](#uniquetxt)\
[Что за SORTED-MERGED?](#%D1%87%D1%82%D0%BE-%D0%B7%D0%B0-sorted-merged)\
[Установка](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0)

## Принцип работы

Основной принцип работы смехотворно прост.

В `_sprites/original` расположены оригинальные спрайты из игры. При каждом изменении папки `_sprites` _(кроме, как я заметил, удаления файлов)_ будут собираться два архива в Actions-табе: `sorted` и `sorted-merged`. В этих архивах будут находиться отсортированные спрайты относительно `_sprites/original`.

### Легче показать, чем рассказать!

На данный момент спрайт `IMAGE_LOGO.png` используется в каждой главе (т.е. находится в `_sprites/original/chapter1`, в `_sprites/original/chapter2` и т.д.)\
Благодаря DASS, нужно просто поместить изменённый спрайт `IMAGE_LOGO.png` в `_sprites/translation`, и в конце своей работы, в архивах `sorted` и `sorted-merged` , этот спрайт заменится во всех главах!

Вот и всё! Ничего сложного

> [!Warning]
> Для анимированных спрайтов есть строгое сравнение кадров. Т.е. если в изменённом спрайте кадров меньше или больше — произойдёт конфликт. Такое поведение сделано для спрайтов таких, как `_sprites/original/spr_castle_shop`, в котором переводить нужно лишь один кадр, а остальные нужно оставить в папке.\
> Если у спрайта намеренно должно быть иное количество кадров, [читайте дальше](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D1%81%D1%82%D1%8C%D1%8E-%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BA%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE-%D0%BA%D0%B0%D0%B4%D1%80%D0%BE%D0%B2)!

## Файл UNIQUE.TXT

Предусмотрена пара случаев, когда автоматизация будет мешать, и какие-либо данные нужно вписать вручную, для этого существует `_sprites/unique.txt`!\
Благодаря нему можно: добавить полностью уникальный спрайт или установить полностью уникальное количество кадров анимированному спрайту.

### Добавление уникальных спрайтов

Чтобы добавить свой спрайт в конечные архивы `sorted` и `sorted-merged`:

1. Добавьте уникальный спрайт в `_sprites/translation`
2. Откройте файл `_sprites/unique.txt`
3. В списке `UNIQUE FOR SORTING:` _(на рус. "УНИКАЛЬНОЕ ДЛЯ СОРТИРОВКИ:")_ напишите КОНЕЧНЫЙ ПУТЬ файла (в архивах `sorted` и `sorted-merged`)

Пример:

```
UNIQUE FOR SORTING:
chapter4/sprite1
```

Благодаря этому DASS добавит `sprite1` в папку `chapter4` на выходе. Ничего более `папка/название` не нужно! Никаких дополнительных символов или `.png`!

### Установка полностью уникального количество кадров

Чтобы установить полностью уникальное количество кадров:

1. Добавьте папку со спрайтом в `_sprites/translation` (в папке должны быть ВСЕ нужные кадры)
2. Откройте файл `_sprites/unique.txt`
3. В списке `UNIQUE FRAME COUNT:` _(на рус. "УНИКАЛЬНОЕ КОЛИЧЕСТВО КАДРОВ:")_ напишите просто название спрайта

Пример:

```
UNIQUE FRAME COUNT:
sprite3
```

Благодаря этому DASS не будет проверять количество кадров спрайта `sprite3`, а перед добавлением в архив просто напросто скопирует всю папку спрайта в `sorted` и его соединённую версию `sorted-merged` (во все места, где используется спрайт)

## Что за SORTED-MERGED?

Данный архив был добавлен для более простой работы с [Deltranslate](https://neprim.itch.io/deltranslate-project). В нём все анимированные спрайты соединены в один, благодаря чему Deltranslate может их с лёгкостью принять!

## Установка

Для того, чтобы с комфортом пользоваться DASS, нужно создать форк данного репозитория... и всё! В репозитории уже настроен worflow, который будет собирать `sorted` и `sorted-merged`!

Создали форк? Можете добавлять свои файлы в `_sprites/translations` и приступать к работе! Напомню, что конечные архивы будут ждать в Actions-табе!

# Приятного использования!
